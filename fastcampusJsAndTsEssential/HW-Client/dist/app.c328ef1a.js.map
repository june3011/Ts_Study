{"version":3,"sources":["app.js"],"names":["container","document","getElementById","ajax","XMLHttpRequest","content","createElement","NEWS_URL","CONTENT_URL","store","currentPage","getData","url","open","send","JSON","parse","response","newsFeed","newPeed","newsList","template","i","push","id","title","comments_count","replace","join","length","innerHTML","newsDetail","location","hash","substring","newsContent","router","routePath","indexOf","Number","window","addEventListener"],"mappings":"AAAA,IAAMA,SAAS,GAAGC,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC;AACjD,IAAMC,IAAI,GAAG,IAAIC,cAAc,EAAE;AACjC,IAAMC,OAAO,GAAGJ,QAAQ,CAACK,aAAa,CAAC,KAAK,CAAC;AAC7C,IAAMC,QAAQ,GAAG,sCAAsC;AACvD,IAAMC,WAAW,GAAG,wCAAwC;AAC5D,IAAIC,KAAK,GAAG;EACVC,WAAW,EAAE;AACf,CAAC;AAED,SAASC,OAAO,CAACC,GAAG,EAAE;EACpBT,IAAI,CAACU,IAAI,CAAC,KAAK,EAAED,GAAG,EAAE,KAAK,CAAC;EAC5BT,IAAI,CAACW,IAAI,EAAE;EAEX,OAAOC,IAAI,CAACC,KAAK,CAACb,IAAI,CAACc,QAAQ,CAAC;AAClC;AAEA,SAASC,QAAQ,GAAG;EAClB,IAAMC,OAAO,GAAGR,OAAO,CAACJ,QAAQ,CAAC;EACjC,IAAMa,QAAQ,GAAG,EAAE;EACnB,IAAIC,QAAQ,qUAWX;EAED,KAAK,IAAIC,CAAC,GAAG,CAACb,KAAK,CAACC,WAAW,GAAG,CAAC,IAAI,EAAE,EAAEY,CAAC,GAAGb,KAAK,CAACC,WAAW,GAAG,EAAE,EAAEY,CAAC,EAAE,EAAE;IAC1EF,QAAQ,CAACG,IAAI,kDAESJ,OAAO,CAACG,CAAC,CAAC,CAACE,EAAE,0BAC7BL,OAAO,CAACG,CAAC,CAAC,CAACG,KAAK,eAAKN,OAAO,CAACG,CAAC,CAAC,CAACI,cAAc,0CAGhD;EACN;EAEAL,QAAQ,GAAGA,QAAQ,CAACM,OAAO,sBAAsBP,QAAQ,CAACQ,IAAI,IAAI,CAAC;EACnEP,QAAQ,GAAGA,QAAQ,CAACM,OAAO,sBAEzBlB,KAAK,CAACC,WAAW,GAAG,CAAC,GAAGD,KAAK,CAACC,WAAW,GAAG,CAAC,GAAG,CAAC,CAClD;EACDW,QAAQ,GAAGA,QAAQ,CAACM,OAAO,sBAEzBR,OAAO,CAACU,MAAM,GAAG,EAAE,GAAGpB,KAAK,CAACC,WAAW,GACnCD,KAAK,CAACC,WAAW,GAAG,CAAC,GACrBD,KAAK,CAACC,WAAW,CACtB;EAEDV,SAAS,CAAC8B,SAAS,GAAGT,QAAQ;AAChC;AAEA,SAASU,UAAU,GAAG;EACpB,IAAMP,EAAE,GAAGQ,QAAQ,CAACC,IAAI,CAACC,SAAS,CAAC,CAAC,CAAC;EAErC,IAAMC,WAAW,GAAGxB,OAAO,CAACH,WAAW,CAACmB,OAAO,CAAC,KAAK,EAAEH,EAAE,CAAC,CAAC;EAE3DxB,SAAS,CAAC8B,SAAS,yBACTK,WAAW,CAACV,KAAK,4DAEDhB,KAAK,CAACC,WAAW,wDAExC;AACL;AAEA,SAAS0B,MAAM,GAAG;EAChB,IAAMC,SAAS,GAAGL,QAAQ,CAACC,IAAI;EAE/B,IAAII,SAAS,KAAK,EAAE,EAAE;IACpBnB,QAAQ,EAAE;EACZ,CAAC,MAAM,IAAImB,SAAS,CAACC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;IAC5C7B,KAAK,CAACC,WAAW,GAAG6B,MAAM,CAACF,SAAS,CAACH,SAAS,CAAC,CAAC,CAAC,CAAC;IAClDhB,QAAQ,EAAE;EACZ,CAAC,MAAM;IACLa,UAAU,EAAE;EACd;AACF;AAEAS,MAAM,CAACC,gBAAgB,CAAC,YAAY,EAAEL,MAAM,CAAC;AAE7CA,MAAM,EAAE","file":"app.c328ef1a.js","sourceRoot":"..","sourcesContent":["const container = document.getElementById(\"root\");\r\nconst ajax = new XMLHttpRequest();\r\nconst content = document.createElement(\"div\");\r\nconst NEWS_URL = \"https://api.hnpwa.com/v0/news/1.json\";\r\nconst CONTENT_URL = \"https://api.hnpwa.com/v0/item/@id.json\";\r\nlet store = {\r\n  currentPage: 1,\r\n};\r\n\r\nfunction getData(url) {\r\n  ajax.open(\"GET\", url, false);\r\n  ajax.send();\r\n\r\n  return JSON.parse(ajax.response);\r\n}\r\n\r\nfunction newsFeed() {\r\n  const newPeed = getData(NEWS_URL);\r\n  const newsList = [];\r\n  let template = `\r\n    <div>\r\n        <h1>Hacker News</h1>\r\n        <ul>\r\n            {{__news_feed__}}\r\n        </ul>\r\n        <div>\r\n            <a href=\"#/page/{{__prev_page__}}\">이전 페이지</a>\r\n            <a href=\"#/page/{{__next_page__}}\">다음 페이지</a>\r\n        </div>\r\n    </div>\r\n  `;\r\n\r\n  for (let i = (store.currentPage - 1) * 10; i < store.currentPage * 10; i++) {\r\n    newsList.push(`\r\n      <li>\r\n        <a href=\"#/show/${newPeed[i].id}\">\r\n        ${newPeed[i].title} {${newPeed[i].comments_count}}\r\n        </a>\r\n      </li>\r\n      `);\r\n  }\r\n\r\n  template = template.replace(`{{__news_feed__}}`, newsList.join(``));\r\n  template = template.replace(\r\n    `{{__prev_page__}}`,\r\n    store.currentPage > 1 ? store.currentPage - 1 : 1\r\n  );\r\n  template = template.replace(\r\n    `{{__next_page__}}`,\r\n    newPeed.length / 10 > store.currentPage\r\n      ? store.currentPage + 1\r\n      : store.currentPage\r\n  );\r\n\r\n  container.innerHTML = template;\r\n}\r\n\r\nfunction newsDetail() {\r\n  const id = location.hash.substring(7);\r\n\r\n  const newsContent = getData(CONTENT_URL.replace(\"@id\", id));\r\n\r\n  container.innerHTML = `\r\n      <h1>${newsContent.title}</h1>\r\n      <div>\r\n          <a href=\"#/page/${store.currentPage}\">목록으로</a>\r\n      </div>\r\n    `;\r\n}\r\n\r\nfunction router() {\r\n  const routePath = location.hash;\r\n\r\n  if (routePath === \"\") {\r\n    newsFeed();\r\n  } else if (routePath.indexOf(\"#/page/\") >= 0) {\r\n    store.currentPage = Number(routePath.substring(7));\r\n    newsFeed();\r\n  } else {\r\n    newsDetail();\r\n  }\r\n}\r\n\r\nwindow.addEventListener(\"hashchange\", router);\r\n\r\nrouter();\r\n"]}